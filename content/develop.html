<h1 class='title'>PDL Development</h1>
<style type="text/css">
 .logos td {
 	padding-left: 2em;
 	padding-right: 2em;
 	text-align: center;
 	vertical-align: middle;
 }
 img { border: none; }
</style>
<center>
<table class="logos">
  <tbody>
    <tr>
      <td>
      	<a href="#bug"><img src="images/logos/bug-01.png"/></a>
      </td>
      <td>
      	<a href="#git"><img width="100px" src="images/logos/git.png"/></a>
      </td>
      <td>
        <a href="#hg"><img width="90px" src="images/logos/mercurial.png"/></a>
      </td>
    </tr>
    <tr>
      <td>
      	<a href="#bug">Report a bug</a>
      </td>
      <td>
      	<a href="#git">Develop with Git</a>
      </td>
      <td>
        <a href="#hg">Develop with Mercurial</a>
      </td>
    </tr>
  </tbody>
</table>
</center>

<h2 id="bug">Report a bug</h2>

<p>To report a bug, first <a href="https://sourceforge.net/account/login.php">
login to SourceForge</a> (or register an account) and then go to the
<a href="http://sourceforge.net/bugs/?group_id=612">bugs database</a>.</p>

<h2 id="git">Develop with Git</h2>

<p>If you are a <a href="http://git-scm.com/">Git</a> user you can use Git
to contribute to PDL development.</p>

<dl>
  <dt>Non-developers</dt>
  <dd>
    <p>Download PDL's sources with:</p>
    <pre>git clone git://pdl.git.sourceforge.net/gitroot/pdl/pdl PDL</pre>
    
    <p>If you want to contribute, be sure to join the 
    <a href="http://mailman.jach.hawaii.edu/mailman/listinfo//pdl-porters">
    developers mailing list</a>. To submit paches, use PDL's
    <a href="http://sourceforge.net/patch/?group_id=612">patch manager</a> or
    request developer status on the list.</p>
  </dd>
  
  <dt>Developers</dt>
  <dd>
    <p>Download PDL's sources with:</p>
    <pre>git clone ssh://USERNAME@pdl.git.sourceforge.net/gitroot/pdl/pdl PDL</pre>
  </dd>
  
  <dt>See also</dt>
  <dd>
    <ul>
      <li><a href="#help">Basic commands</a></li>
      <li><a href="#hints">Hints for developers</a></li>
      <li><a href="http://git-scm.com/documentation">Git documentation</a></li>
    </ul>
  </dd>
</dl>


<h2 id="hg">Develop with Mercurial</h2>

<p>If you are a <a href="http://mercurial.selenic.com/">Mercurial</a> user you
can use Mercurial, along with the <a href="http://hg-git.github.com/">Hg-Git</a>
extension, to contribute to PDL development.</p>

<dl>
  <dt>Non-developers</dt>
  <dd>
    <p>Install the <a href="http://hg-git.github.com/">Hg-Git</a> extension.
    Download PDL's sources with:</p>
    <pre>hg clone git://pdl.git.sourceforge.net/gitroot/pdl/pdl PDL</pre>
    
    <p>If you want to contribute, be sure to join the 
    <a href="http://mailman.jach.hawaii.edu/mailman/listinfo//pdl-porters">
    developers mailing list</a>. To submit paches, use PDL's
    <a href="http://sourceforge.net/patch/?group_id=612">patch manager</a> or
    request developer status on the list.</p>
  </dd>
  
  <dt>Developers</dt>
  <dd>
    <p>Install the <a href="http://hg-git.github.com/">Hg-Git</a> extension.
    Download PDL's sources with:</p>
    <pre>hg clone git+ssh://USERNAME@pdl.git.sourceforge.net/gitroot/pdl/pdl PDL</pre>
  </dd>
  
  <dt>See also</dt>
  <dd>
    <ul>
      <li><a href="#help">Basic commands</a></li>
      <li><a href="#hints">Hints for developers</a></li>
      <li><a href="http://hgbook.red-bean.com/">Mercurial documentation</a></li>
    </ul>
  </dd>
</dl>


<h2 id="help">Basic commands</h2>

<style type="text/css">
  .basic {
  	border: 1px solid #555;
  }
  .basic th {
  	text-align: center;
  }
  .basic td {
  	width: 45%;
  	padding: 1em;
  }
  .basic td.item {
    text-align: center;
    border-top: 2px solid #ccc;
  }
  .basic td.hg { border-left: 2px solid #ccc; }
</style>
<table class="basic" cellspacing="0px">
  <tbody>
    <tr>
      <th>Basic Git</th>
      <th>Basic Mercurial</th>
    </tr>
    <tr>
      <td class="item" colspan="2">Commit changes to your repository</td>
    </tr>
    <tr>
      <td>
    <pre>
git add &lt;file1&gt; &lt;file2&gt; ...
git commit</pre>
    <p><b>NOTE:</b> Unlike other SCMs, with Git you have to run the <tt>add</tt>
    command every time you commit, even if you've already added the same file
    before. You can also run <tt>git commit -a</tt> to automatically include
    all the changes since the last commit except newly added files.</p>
      </td>
      <td class="hg">
   <pre>
hg add &lt;file1&gt; &lt;file2&gt; ...
hg commit</pre>
      </td>
    </tr>
    <tr>
      <td class="item" colspan="2">Pull and merge any changes others have made</td>
    </tr>
    <tr>
      <td>
   <pre>
git fetch
git merge</pre>
      </td>
      <td class="hg">
   <pre>
hg pull
hg merge</pre>
      </td>
    </tr>
    <tr>
      <td class="item" colspan="2">Push your changes back to the shared server.</td>
    </tr>
    <tr>
      <td><pre>git push</pre></td>
      <td class="hg"><pre>hg push</pre></td>
    </tr>
    <tr>
      <td class="item" colspan="2">Undo changes since the previous commit.</td>
    </tr>
    <tr>
      <td><pre>git reset --hard ORIG_HEAD</pre></td>
      <td class="hg"><pre>hg revert .</pre></td>
    </tr>
    <tr>
      <td class="item" colspan="2">
      	<b>TIP:</b> Interactively select changes to commit
      </td>
    </tr>
    <tr>
      <td>
    <pre>git add --patch</pre>
      <td class="hg">
   <pre>
hg record</pre>
       <p><b>NOTE:</b> You must enable the 
       "<a href="http://mercurial.selenic.com/wiki/RecordExtension">record</a>"
       extension.</p>
      </td>
    </tr>
    <tr>
      <td class="item" colspan="2">Create a branch</td>
    </tr>
    <tr>
      <td>
<pre>
git branch my-feature
git checkout my-feature
</pre></td>
      <td class="hg">
<pre>
hg branch my-feature
</pre></td>
    </tr>
    <tr>
      <td class="item" colspan="2">Push a branch to the server</td>
    </tr>
    <tr>
      <td>
<pre>
git config branch.my-feature.remote origin
git config branch.my-feature.merge refs/heads/my-feature
</pre></td>
      <td class="hg">
<pre>
hg push
</pre>
      <p><b>NOTE:</b> Mercurial pushes all branches by default.</p>
      </td>
    </tr>
  </tbody>
</table>


<h2 id="hints">Hints for developers</h2>

<ol>
 <li>
  <p>Before committing a change to the repository you should update</p>
  <ul>
    <li> <tt>MANIFEST</tt> (using <tt>make manifest</tt>),
         <tt>MANIFEST.SKIP</tt>, <tt>TODO</tt> files
         if applicable.</li>
  </ul>
 </li>
 <li>
   <p>Remember to include POD documentation for any functions you
   add to the distribution.</p>
   <ul>
     <li>See Basic/Core/Core.pm for an example of including POD
     documentation in .pm files.</li>
     <li>See Basic/Core/Primitive/Primitive.pd for an example of including
     POD documentation in PDL .pd files.</li>
     <li>Read the documentation in PDL::Doc for a detailed description of
     the PDL documentation conventions.</li>
   </ul>
 </li>
 <li>
   <p>Make sure you add a test case in the 't' directory for any
   significant additional capability you add to the PDL
   package.</p>
 </li>
 <li>
   <p>Don't commit before you successfully built and passed <tt>make test</tt>.
   But then again, don't keep your changes private for too long to avoid
   conflicts with other developers.</p>
 </li>
 <li>
   <p>Use branches for long-running projects. Git and Mercurial both have
   excellent support for branching and merging. Use it!</p>
 </li>
 <li>
   <p>Bugs reported on the list should be entered into the
   <a href="http://sourceforge.net/bugs/?group_id=612">bug
   database</a> and bugs closed when a patch has been committed as
   a fix. (Primary responsibility for this task is the pumpking,
   but other devels should be able to help.)</p>
 </li>
</ol>

